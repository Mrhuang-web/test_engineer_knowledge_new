用例 ID,模块,优先级,用例标题,前置条件,测试步骤,预期结果,实际结果,备注
TC001,页面 1 - 查看 - 权限,P0,无查看权限用户访问页面 1,用户角色无 VIEW 权限，页面 1 已配置查看权限控制,①直接输入页面 1 查看路径/page1/view；②调用接口GET /api/page1/data,①返回 403 无权限页面；②接口返回 403 状态码,,
TC002,页面 1 - 查看 - 隔离,P0,跨部门用户无法查看页面 1 其他部门数据,U1 属于 DeptA，页面 1 存在 DeptB 的 dataX 数据，U1 数据权限为部门级,调用接口GET /api/page1/data/{dataX},接口返回 404 状态码或空列表,,
TC003,页面 1 - 查看 - 数据移动,P0,页面 1 数据跨部门移动后原属主无权限查看,dataX 原属 DeptB 的 U2，管理员将 dataX 移动至 DeptA，U2 无 DeptA 数据查看权限,U2 通过页面 1 或接口GET /api/page1/data/{dataX}查看 dataX,页面提示 “记录不存在”，接口返回 404 状态码,,数据移动后权限立即失效
TC004,页面 1 - 查看 - 数据范围 - 个人,P0,页面 1 个人级权限用户仅查看自身数据,U1 数据权限为个人级，页面 1 存在 U1 的 data1 和同部门 U2 的 data2,U1 访问页面 1 查看数据列表,仅显示 data1，不显示 data2,,
TC005,页面 1 - 查看 - 数据范围 - 部门,P0,页面 1 部门级权限用户查看本部门所有数据,U1 数据权限为部门级，DeptA 有 10 条数据，其他部门有 5 条数据,U1 访问页面 1 查看数据列表,仅显示 DeptA 的 10 条数据，不显示其他部门数据,,
TC006,页面 1 - 查看 - 数据范围 - 全量,P0,页面 1 全量权限用户查看所有数据,U1 数据权限为全量级，系统中页面 1 共有 50 条数据（含各部门）,U1 访问页面 1 查看数据列表,显示全部 50 条数据,,
TC007,页面 2 - 查看 - 权限,P0,无查看权限用户访问页面 2,用户角色无 VIEW 权限，页面 2 已配置查看权限控制,①直接输入页面 2 查看路径/page2/view；②调用接口GET /api/page2/data,①返回 403 无权限页面；②接口返回 403 状态码,,
TC008,页面 2 - 查看 - 隔离,P0,跨部门用户无法查看页面 2 其他部门数据,U1 属于 DeptA，页面 2 存在 DeptB 的 dataY 数据，U1 数据权限为部门级,调用接口GET /api/page2/data/{dataY},接口返回 404 状态码或空列表,,
TC009,页面 3 - 查看 - 权限,P0,有查看权限用户正常访问页面 3,用户角色含 VIEW 权限，页面 3 已配置查看权限控制,①直接输入页面 3 查看路径/page3/view；②调用接口GET /api/page3/data,①成功进入页面 3；②接口返回 200 状态码及对应数据,,
TC010,页面 3 - 查看 - 数据更新同步,P1,页面 3 数据被编辑后查看页面同步更新,U1 有页面 3 查看权限，U2 有页面 3 编辑权限，存在 dataZ 数据,①U1 打开页面 3 查看 dataZ；②U2 编辑 dataZ 并保存；③U1 刷新页面 3,U1 页面显示 dataZ 的最新编辑后数据,,
TC011,页面 4 - 查看 - 分页,P1,页面 4 查看数据分页功能正常,页面 4 有 200 条数据，分页配置每页 20 条,U1 访问页面 4，切换页码 1-10,每页显示 20 条数据，页码切换正常，无数据重复或缺失,,
TC012,页面 4 - 查看 - 搜索筛选,P1,页面 4 搜索筛选功能符合权限范围,U1 数据权限为部门级（DeptA），页面 4 存在 DeptA 含关键词 “test” 的 3 条数据和其他部门含 “test” 的 2 条数据,U1 在页面 4 输入关键词 “test” 搜索,仅显示 DeptA 的 3 条含 “test” 关键词数据,,
TC013,页面 1 - 编辑 - 权限 - 无权限,P0,仅查看权限用户无法编辑页面 1 数据,用户角色仅含 VIEW 权限，无 EDIT 权限，页面 1 存在 data1 数据,①访问页面 1 找到 data1，点击 “编辑” 按钮；②调用编辑接口PUT /api/page1/data/{data1},①编辑按钮灰色不可点击；②接口返回 403 状态码,,
TC014,页面 1 - 编辑 - 权限 - 有权限,P0,有编辑权限用户正常编辑页面 1 自身数据,U1 有 EDIT 权限，data1 属于 U1，页面 1 已配置编辑权限控制,①访问页面 1 找到 data1，点击 “编辑”；②修改字段值（如 name）；③保存并调用接口PUT /api/page1/data/{data1},①编辑页面正常打开；②保存成功，接口返回 200 状态码；③数据更新为修改后的值,,
TC015,页面 1 - 编辑 - 数据隔离,P0,无跨部门权限用户无法编辑其他部门数据,U1 属于 DeptA（有 EDIT 权限），dataX 属于 DeptB，U1 无 DeptB 数据编辑权限,①尝试通过页面 1 编辑 dataX；②调用接口PUT /api/page1/data/{dataX},①页面无编辑入口或提示无权限；②接口返回 403 状态码,,
TC016,页面 1 - 编辑 - 数据移动后,P0,页面 1 数据移动后原编辑者权限保留（策略可配）,data1 原属 U1（DeptA），U1 有 EDIT 权限，管理员将 data1 移动至 DeptB,U1 访问页面 1 编辑 data1,可正常编辑（按配置策略），编辑后数据归属 DeptB，日志记录 U1 操作,,策略可配置为保留或收回权限
TC017,页面 1 - 编辑 - 字段校验 - 非空,P0,页面 1 编辑必填字段为空校验,U1 有 EDIT 权限，页面 1data1 的 name 字段为必填项,①编辑 data1，清空 name 字段；②点击保存,保存失败，提示 “name 字段不能为空”,,
TC018,页面 1 - 编辑 - 并发冲突,P1,两人同时编辑页面 1 同一条数据,U1 和 U2 均有页面 1EDIT 权限，存在共同可编辑的 data2 数据,①U1 打开 data2 编辑页面；②U2 修改 data2 并保存；③U1 继续修改 data2 并保存,U1 保存时提示 “数据已被 U2 修改，请刷新后重试”，保存失败,,基于乐观锁实现
TC019,页面 2 - 编辑 - 权限 - 无权限,P0,无编辑权限用户无法编辑页面 2 数据,用户角色无 EDIT 权限，页面 2 存在 data3 数据,①访问页面 2 找到 data3，点击 “编辑” 按钮；②调用编辑接口PUT /api/page2/data/{data3},①编辑按钮隐藏或灰色不可点击；②接口返回 403 状态码,,
TC020,页面 2 - 编辑 - 权限 - 有权限,P0,有编辑权限用户正常编辑页面 2 部门数据,U1 有 EDIT 权限（部门级），data3 属于 DeptA（U1 所在部门）,①访问页面 2 找到 data3，点击 “编辑”；②修改字段值；③保存,保存成功，数据更新为修改后的值，日志记录操作,,
TC021,页面 2 - 编辑 - 字段校验 - 格式,P0,页面 2 编辑字段格式校验（如手机号）,U1 有 EDIT 权限，页面 2data4 的 phone 字段要求 11 位数字,①编辑 data4，输入非 11 位数字（如 12345）；②点击保存,保存失败，提示 “phone 字段格式错误，需输入 11 位数字”,,
TC022,页面 3 - 编辑 - 数据范围 - 个人,P0,个人级权限用户仅能编辑自身数据,U1 数据权限为个人级（有 EDIT 权限），页面 3 存在 U1 的 data5 和同部门 U2 的 data6,①尝试编辑 data5；②尝试编辑 data6,①data5 可正常编辑；②data6 无编辑入口或提示无权限,,
TC023,页面 3 - 编辑 - 撤销,P1,页面 3 编辑过程中撤销操作有效,U1 有 EDIT 权限，打开 data7 编辑页面，修改多个字段,①修改 name 字段；②修改 value 字段；③点击 “撤销” 按钮 2 次,两次撤销后恢复至编辑前的原始数据,,
TC024,页面 4 - 编辑 - 批量编辑,P1,有批量编辑权限用户正常批量编辑数据,U1 有批量 EDIT 权限，页面 4 存在 5 条同部门数据,①勾选 5 条数据；②点击 “批量编辑”；③修改共同字段（如 status）；④保存,5 条数据的 status 字段均更新为修改后的值，无遗漏或错误,,
TC025,页面 1 - 导出 - 权限 - 无权限,P0,无导出权限用户无法导出页面 1 数据,用户角色无 EXPORT 权限，页面 1 存在数据,①访问页面 1 点击 “导出” 按钮；②调用导出接口POST /api/page1/export,①导出按钮隐藏；②接口返回 403 状态码,,
TC026,页面 1 - 导出 - 权限 - 有权限,P0,有导出权限用户正常导出自身数据,U1 有 EXPORT 权限，页面 1 存在 U1 的 10 条数据,①点击 “导出” 按钮；②选择导出格式（Excel）；③确认导出,导出成功，文件包含 U1 的 10 条数据，格式正确,,
TC027,页面 1 - 导出 - 数据隔离,P0,导出数据仅含用户权限范围内数据,U1 数据权限为部门级（DeptA），页面 1 存在 DeptA 的 20 条数据和其他部门的 15 条数据,U1 导出页面 1 全部数据,导出文件仅包含 DeptA 的 20 条数据，无其他部门数据,,SQL 查询带 owner_path 过滤
TC028,页面 1 - 导出 - 数据移动中,P0,导出过程中数据移动不影响快照一致性,页面 1 有 10 万条数据，导出预计 30 秒，U1 有 EXPORT 权限,①U1 点击导出；②第 15 秒时管理员移动 1 万条数据至其他部门；③导出完成后查看文件,导出文件不含已移动的 1 万条数据，符合快照一致性,,基于 MVCC 实现
TC029,页面 1 - 导出 - 脱敏,P1,导出文件中敏感字段脱敏（如手机号）,页面 1 数据包含手机号字段（如 13812345678），U1 有 EXPORT 权限,U1 导出数据并打开文件,手机号显示为 138****5678，其他字段正常,,
TC030,页面 1 - 导出 - 大数据量,P1,导出页面 1 50 万条数据性能达标,页面 1 预置 50 万条数据，U1 有全量 EXPORT 权限,U1 点击导出，监控系统资源,导出时间 < 30 秒，内存占用 < 500MB，无 OOM 异常,,
TC031,页面 2 - 导出 - 权限 - 无权限,P0,无导出权限用户无法导出页面 2 数据,用户角色无 EXPORT 权限，页面 2 存在数据,①访问页面 2 点击 “导出” 按钮；②调用导出接口POST /api/page2/export,①导出按钮灰色不可点击；②接口返回 403 状态码,,
TC032,页面 2 - 导出 - 格式选择,P0,页面 2 支持多格式导出（Excel/CSV/PDF）,U1 有 EXPORT 权限，页面 2 存在数据,①点击 “导出”；②分别选择 Excel、CSV、PDF 格式导出,三种格式均导出成功，数据一致，格式符合对应标准,,
TC033,页面 2 - 导出 - 筛选后导出,P0,页面 2 筛选后导出仅含筛选结果,U1 有 EXPORT 权限，页面 2 存在 DeptA 的 30 条数据，其中 5 条含关键词 “demo”,①U1 筛选关键词 “demo”；②点击导出,导出文件仅包含 5 条含 “demo” 的筛选结果,,
TC034,页面 3 - 导出 - 重复导出,P1,同一条件重复导出无异常,U1 有 EXPORT 权限，页面 3 存在固定数据,①第一次导出数据；②立即重复相同条件导出,第二次导出成功，文件内容与第一次一致，无报错,,
TC035,页面 3 - 导出 - 文件命名,P1,导出文件命名符合规则（页面 + 日期 + 时间）,U1 有 EXPORT 权限，页面 3 存在数据,U1 点击导出,文件名格式为 “页面 3_导出_20240520_143025.xlsx”（示例）,,可配置命名规则
TC036,页面 4 - 导出 - 权限范围 - 全量,P0,全量权限用户导出页面 4 所有数据,U1 有全量 EXPORT 权限，页面 4 共有 100 万条数据（含各部门）,U1 点击导出全部数据,导出成功，文件包含 100 万条数据，无缺失,,
TC037,页面 1 - 导入 - 权限 - 无权限,P0,无导入权限用户无法上传文件,用户角色无 IMPORT 权限,①访问页面 1 点击 “导入” 按钮；②调用导入接口POST /api/page1/import,①导入按钮隐藏；②接口返回 403 状态码,,
TC038,页面 1 - 导入 - 权限 - 有权限,P0,有导入权限用户正常导入合法文件,U1 有 IMPORT 权限，准备含 100 条合法数据的 Excel 文件（字段完整、格式正确）,①点击 “导入”；②选择文件；③确认上传；④调用接口POST /api/page1/import,①上传成功，提示 “导入成功，共 100 条数据”；②接口返回 200 状态码；③数据入库，归属 U1 所在部门,,
TC039,页面 1 - 导入 - 数据归属,P0,导入数据自动标记为导入者部门,U1 属于 DeptA，有 IMPORT 权限，准备含 50 条数据的文件,导入文件后查询数据库,所有导入数据的 ownerPath 字段为/deptA/userU1,,
TC040,页面 1 - 导入 - 数据移动后,P0,导入数据移动后原导入者仍可查看（策略可配）,同 TC039，管理员将导入数据移动至 DeptB,U1 访问页面 1 查看数据,U1 可正常查看该批数据（按策略配置）,,策略可配置为保留或收回查看权限
TC041,页面 1 - 导入 - 脏数据 - 非空,P0,导入文件含必填字段为空的脏数据,U1 有 IMPORT 权限，文件共 10 条数据，第 3 条 name 字段为空,上传文件并调用导入接口,导入全部回滚，提示 “第 3 行 name 字段不能为空，导入失败”,,
TC042,页面 1 - 导入 - 脏数据 - 格式,P0,导入文件含格式错误的脏数据（如日期格式）,U1 有 IMPORT 权限，文件共 8 条数据，第 5 条 date 字段格式为 “2024/13/01”（非法月份）,上传文件,导入全部回滚，提示 “第 5 行 date 字段格式错误，需符合 YYYY-MM-DD 格式”,,
TC043,页面 2 - 导入 - 权限 - 无权限,P0,无导入权限用户无法上传页面 2 文件,用户角色无 IMPORT 权限,①访问页面 2 点击 “导入” 按钮；②调用导入接口POST /api/page2/import,①导入按钮灰色不可点击；②接口返回 403 状态码,,
TC044,页面 2 - 导入 - 外键约束,P0,导入数据违反外键约束校验,U1 有 IMPORT 权限，页面 2data 的 status 字段关联字典（可选值 A/B/C），文件中第 6 行 status 为 D,上传文件,导入全部回滚，提示 “第 6 行 status 值 D 不在字典范围（A/B/C）”,,
TC045,页面 2 - 导入 - 大文件,P1,导入页面 2 10 万条 30MB 的 Excel 文件,U1 有 IMPORT 权限，准备 10 万条数据的 30MB Excel 文件,上传文件并监控导入过程,导入 100% 成功，无 OOM 异常，导入时间 < 60 秒,,
TC046,页面 3 - 导入 - 并发冲突,P1,两人同时导入页面 3 同名同内容文件,U1 和 U2 均有 IMPORT 权限，文件 md5 值相同,两人同时上传该文件,第二次上传返回 “文件已存在，已自动去重，无需重复导入”,,
TC047,页面 3 - 导入 - 字段长度,P1,导入数据字段长度超过数据库限制,U1 有 IMPORT 权限，数据库 name 字段限制 32 字符，文件中第 2 行 name 字段为 33 字符,上传文件,导入全部回滚，提示 “第 2 行 name 字段超长（最大 32 字符）”,,
TC048,页面 4 - 导入 - 文件类型校验,P0,上传非法文件类型被拦截,U1 有 IMPORT 权限，准备 test.jsp 非法文件,尝试上传该文件,上传失败，提示 “文件类型非法，仅支持 Excel/CSV 格式”，接口返回 415 状态码,,
TC049,页面 1 - 接口 - 水平越权 - 查看,P0,篡改 dataId 访问页面 1 他人数据,U1 属于 DeptA，dataX 属于 DeptB，U1 有页面 1VIEW 权限,调用接口GET /api/page1/data/{dataX},接口返回 403 状态码，提示无权限,,
TC050,页面 1 - 接口 - 水平越权 - 编辑,P0,篡改 dataId 编辑页面 1 他人数据,U1 属于 DeptA，dataX 属于 DeptB，U1 有页面 1EDIT 权限,调用接口PUT /api/page1/data/{dataX},接口返回 403 状态码，提示无权限,,
TC051,页面 1 - 接口 - 垂直越权 - 管理员接口,P0,普通用户调用页面 1 管理员接口,用户角色为普通用户（非 ADMIN），无管理员权限,调用管理员接口POST /api/admin/page1/batchDelete,接口返回 403 状态码，提示无管理员权限,,
TC052,页面 1 - 接口 - 参数篡改 - 分页,P0,篡改 pageSize 参数突破限制,任何角色，系统配置最大 pageSize 为 1000,调用接口GET /api/page1/data?pageSize=99999,接口被拦截，返回 400 状态码，提示 “pageSize 超出最大限制（1000）”,,
TC053,页面 2 - 接口 - 水平越权 - 查看,P0,篡改 dataId 访问页面 2 他人数据,U1 属于 DeptA，dataY 属于 DeptB，U1 有页面 2VIEW 权限,调用接口GET /api/page2/data/{dataY},接口返回 403 状态码，提示无权限,,
TC054,页面 2 - 接口 - 水平越权 - 编辑,P0,篡改 dataId 编辑页面 2 他人数据,U1 属于 DeptA，dataY 属于 DeptB，U1 有页面 2EDIT 权限,调用接口PUT /api/page2/data/{dataY},接口返回 403 状态码，提示无权限,,
TC055,页面 2 - 接口 - 垂直越权 - 导入,P0,无导入权限用户调用页面 2 导入接口,用户角色无 IMPORT 权限,调用接口POST /api/page2/import,接口返回 403 状态码，提示无导入权限,,
TC056,页面 2 - 接口 - 文件上传绕过,P0,上传非法脚本文件绕过校验,U1 有 IMPORT 权限，准备 test.jsp 脚本文件,调用导入接口上传该文件,接口返回 415 状态码，提示 “文件类型非法”,,
TC057,页面 3 - 接口 - 水平越权 - 导出,P0,篡改部门 ID 导出其他部门数据,U1 属于 DeptA，有页面 3EXPORT 权限，无 DeptB 权限,调用导出接口POST /api/page3/export?deptId=DeptB,接口返回 403 状态码，提示无该部门数据导出权限,,
TC058,页面 3 - 接口 - 垂直越权 - 查看所有,P0,普通用户调用查看所有数据接口,用户角色为普通用户，无全量查看权限,调用接口GET /api/admin/page3/allData,接口返回 403 状态码，提示无管理员权限,,
TC059,页面 3 - 接口 - 签名校验,P0,无签名调用接口被拦截,系统接口需携带合法签名（如 token + 时间戳 + 签名）,不携带签名调用接口GET /api/page3/data,接口返回 401 状态码，提示 “签名无效或缺失”,,
TC060,页面 3 - 接口 - token 过期,P0,token 过期后调用接口,U1 的登录 token 已过期，有页面 3VIEW 权限,使用过期 token 调用接口GET /api/page3/data,接口返回 401 状态码，提示 “token 已过期，请重新登录”,,
TC061,页面 4 - 接口 - 水平越权 - 导入归属,P0,篡改 ownerPath 修改导入数据归属,U1 属于 DeptA，有 IMPORT 权限，准备导入文件,调用导入接口时篡改请求体中 ownerPath 为/deptB/userU2,接口返回 403 状态码，提示 “无权限修改数据归属”，导入失败,,
TC062,页面 4 - 接口 - 垂直越权 - 导出,P0,无导出权限用户调用页面 4 导出接口,用户角色无 EXPORT 权限,调用接口POST /api/page4/export,接口返回 403 状态码，提示无导出权限,,
TC063,页面 4 - 接口 - SQL 注入防护,P0,接口参数含 SQL 注入语句被拦截,调用查看接口时传入参数name=' OR 1=1 --,调用接口GET /api/page4/data?name=' OR 1=1 --,接口返回 400 状态码，提示 “参数非法”，无 SQL 注入成功,,
TC064,页面 4 - 接口 - 频率限制,P0,短时间内高频调用接口被限流,系统配置单 IP 每分钟最大调用次数 100 次,同一 IP 在 1 分钟内调用接口 101 次,第 101 次调用返回 429 状态码，提示 “请求过于频繁，请稍后再试”,,

