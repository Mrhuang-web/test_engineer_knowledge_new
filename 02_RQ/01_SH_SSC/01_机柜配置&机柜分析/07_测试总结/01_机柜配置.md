# 01总结

```
机柜管理：
	本次机柜管理新：
		用电关系：增支路测点、已经机柜前后 --> 用于后面实现冷通道
			温湿度测点做限制
		机柜列：新增冷通道
            加序号、封闭通道、通道类型【接口不变-再新增机柜列上加多字段】
            本次序列号、可能本次没有加、后续加上会说明
            电压不涉及、电压序列号先不做
            通过channel_name判断是否在同个通道中
		机柜：新增机柜等其他类型
			新增机柜类别、序列号【在原接口上加上】 - 序号展示没有进行排序
	
	业务逻辑：
		机房里面可能有多条冷通道（同机房下 - 冷通道都是唯一的（必须不重复））
		单个冷通道 - 最多两列机柜列（有可能只有一列机柜列（靠墙））
	


涉及库表
	机柜与机柜列
		1、energy_cabinet
		2、energy_cabinet_attribute_config
		3、energy_cabinet_column
		4、energy_cabinet_mete
	站点等相关的
		1、t_cfg_device
		2、t_cfg_precinct
```



```
测试方法
	机柜可视化
		需要结合机柜报表【结合但机柜分析，看数据】
	机柜配置
		主要看配置项是否存在，是否能配置、配置之后是否生效【结合冷通道 -- 看数据是否计算正确】
		导入校验：
			全部为空
            全部正确
            存在一个错误
            必填校验
            超长字符
            边界验证
            重复验证
            文件命名错误
            文件内sheet也错误
            文件类型错误
            弱网情况
            超大文件
            权限问题，没有该区域权限的，插入
            特殊字符



测试数据准备（关键）
	设备测点的接入（非实时数据）：
		直接在机房下插入fsu、和device
		将device的device_model,改成已有的device_model，页面用电关系就可以选择测点了
	设备测点的接入（实时数据）：
		必须接入FSU模拟器,这样配置用电关系后，监控视图才可以查看
	有设备测点后 - 后面直接执行脚本插入数据即可
		es数据写入
		涉及机(fsu设备)：
			（汕头濠江区）黄某某_上海定制1     222131231312312    上海定制003				设备id:00001006000000153955
			（汕头濠江区）黄某某_上海定制2     2241234412313      黄某某_上海定制2			设备id:00001006000000153993
			（汕头濠江区）黄某某_上海定制3     2244431123123      黄某某_上海定制2			设备id:00001006000000154031
```



