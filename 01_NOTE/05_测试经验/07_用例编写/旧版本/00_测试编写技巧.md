# 0、方法匹配

```
测试点 vs 用例：一定是一对多，除非特别简单  --> 正向1条【1条包含全部】，负向则是多条


| 标签  | 关键词一眼识别         | 举栗（网络拓扑）             | 默认用例数              |
| --- | --------------- | -------------------- | ------------------ |
| B   | 边界、最、≤、≥、上限、下限  | IP 字段≤2 MB、密码 8-20 位 | 2 条（上+下）           |
| E   | 等价、分类、枚举、下拉     | 设备类型下拉 6 种           | 1 条代表值             |
| P   | 组合、多选、笛卡尔积爆炸    | 5 个条件同时筛选            | 用 Pairwise 生成 20 条 |
| S   | 状态、流程、步骤、生命周期   | 待支付→已支付→退款           | 1 条正 + 1 条异常       |
| D   | 决策、条件组合、if/else | 服务器可空，其余必填           | 2 条（是/否）           |
| C   | 并发、性能、锁、同时      | 1000 人同时抢券           | 1 脚本               |
| Err | 异常、非法、空、重复、黑客   | IP 格式非法、MAC 为空       | 1 条即可              |


```



```
（拿“网络拓扑设备详情登记” 1 个测试点）

测试点：IP 地址字段校验
一眼看到关键词：“IPv4 规则、≤2 MB、FSU 仅 IP 库关联”
→ 立刻打标签：

- **B**（边界：最小合法 IP、最大网段广播地址）
- **E**（等价：任意中间值）
- **Err**（非法：256、空、中文）
- **D**（决策：FSU 手填/关联两条路径）
```



```
模板：1 个测试点 ≥ 1 条“正向” + N 条“规则反向”
例：继续上面的“IP 地址字段校验”测试点
用例 1（正向，E）：输入 192.168.1.100 → 成功
用例 2（边界，B）：输入 0.0.0.0 → 成功
用例 3（边界，B）：输入 255.255.255.255 → 成功
用例 4（Err）：输入 192.168.1.256 → 提示格式错误
用例 5（Err）：输入空 → 提示必填
用例 6（D）：设备类型 = FSU，手动输入任意 IP → 提示“仅支持 IP 库”
结果：1 个测试点 → 6 条用例（1 正 5 反），全部在 1 分钟内就能想清楚。
```



| 标签组合 | 最少用例数 | 快速算法                  |
| -------- | ---------- | ------------------------- |
| 纯 B     | 2          | 上边界+下边界             |
| 纯 E     | 1          | 任意代表值                |
| B+E      | 3          | 2 边界+1 中间             |
| B+E+Err  | 5          | 2 边界+1 中间+2 非法      |
| S        | 2          | 正流程+异常流程           |
| D        | 2          | 条件真+假                 |
| P        | ≤20        | Pairwise **工具自动生成** |

workflow：拿到需求 30 秒完成“测试点+标签+用例数预估”

1. 用 XMind 拉出测试点（只写“要验什么”）。
2. 每行扫关键词→贴 B/E/P/S/D/C/Err 标签。
3. 查上表→立刻在节点后写“→3 条”“→5 条”。
4. 评审时先报总数：17 个测试点→预估 52 条用例，开发/PM 立刻有预期。

# 0、举例

## 0.1、液冷系统

```
*“液冷系统报表”——全是“定时任务 + 查询 + 聚合计算”**

方法标签会偏向 B(边界) / E(等价) / P(配对) / C(并发) 和 Err(异常)

“报表需求先抓'时间边界+聚合公式+展示规则'三大块，贴 B/E/P/C/Err 标签，1 条正向 2 条反向，字段自然被覆盖，不用再给每个字段写用例。”


每个点按“1 正 2 反”估 3 条，8×3=24，就是给领导快速报工作量的“粗估”，不是精确数；后续你完全可以把 ②③ 合并成参数化 1 条，变成 8×2=16，但评审时留点 buffer 没人嫌多。
```

```
液冷系统报表

├─1 查询条件
│ ├─1.1 时间范围 ≤93 天，且 ≤昨日
│ ├─1.2 省-市-站点-楼栋四级联动，过滤掉“未配置液冷”节点
│ ├─1.3 站点类型 = 数据中心｜通信枢纽楼｜全部

├─2 数据计算规则
│ ├─2.1 每天 4、12、20 点取最近 1 h 内数据，超 1 h 当空值
│ ├─2.2 多测点求平均（干球、湿球、进出液温度…）
│ ├─2.3 总流量 XX(YY) 公式：XX=绑定测点，YY=循环泵流量和
│ ├─2.4 温差=出液-进液，负值标红 + hover 提示
│ ├─2.5 区域查询只展示一次侧；单机楼才展示二次侧

├─3 定时任务
│ ├─3.1 每日 0 点后算昨天+前天数据
│ ├─3.2 失败重试 3 次，报警邮件

├─4 权限 & 性能
│ ├─4.1 用户仅能看到自己数据权限内的站点
│ ├─4.2 93 天范围查询 ≤3 s（500 万条索引）
│ ├─4.3 并发 50 用户同时导出 Excel 不锁表
```

| 测试点 | 标签  | 理由一句话                       |
| ------ | ----- | -------------------------------- |
| 1.1    | B     | 最大 93 天、最小 1 天            |
| 1.2    | E+Err | 下拉出现“未配置液冷”站点 = 非法  |
| 2.1    | B+Err | 边界：刚好 1 h、1 h+1 s 无数据   |
| 2.2    | E     | 3 个测点求平均，等价类代表值即可 |
| 2.3    | D     | 公式两条路径：XX 有值/空值       |
| 2.4    | Err   | 温差负值属于异常数据             |
| 3.1    | S     | 定时任务状态：成功/失败/重试     |
| 4.2    | C     | 大区间查询性能                   |
| 4.3    | C     | 并发导出                         |



| #    | 测试点（原话）                | 关键词→标签 | 1 正 2 反举例（3 条）                      |
| ---- | ----------------------------- | ----------- | ------------------------------------------ |
| 1    | 时间范围 ≤93 天               | 边界 B      | ①93 天正 ②94 天阻断 ③0 天阻断              |
| 2    | 时间 ≤昨日                    | 边界 B      | ①昨日正 ②今日阻断 ③未来日期阻断            |
| 3    | 省-市-站点-楼栋四级联动       | 等价 E      | ①正确联动正 ②全国+全部正 ③未配置液冷被过滤 |
| 4    | 站点类型下拉 3 项             | 等价 E      | ①数据中心正 ②通信枢纽楼正 ③全部正          |
| 5    | 取数时间点 3 个（4/12/20 点） | 等价 E      | ①4 点正 ②12 点正 ③20 点正                  |
| 6    | 多测点求平均                  | 等价 E      | ①3 点全有值正 ②2 点缺 1 空值正 ③全部空值   |
| 7    | 总流量公式 XX(YY)             | 边界 B      | ①偏差 3% 正常 ②偏差=5% 正常 ③偏差 6% 标红  |
| 8    | 温差=出液-进液                | 边界 B      | ①0 ℃正 ②+5 ℃正 ③-1 ℃负值标红               |



```
STEP 3  写“1-3-5 格式”核心用例（只给 7 条，其余复制）
查询 93 天范围，返回 279 条整点数据，耗时 ≤3 s
前置：索引已建，数据量 500 万
步骤：时间选 2025-04-01~2025-07-02（93 天）→ 查询
预期：共 93×3=279 行，页面 ≤3 s，Excel 可导出
查询 94 天，系统阻断并提示“最多 93 天”
步骤：时间选 94 天 → 查询
预期：红色 toast，查询按钮灰化
选择“全国+全部站点类型”，下拉楼栋出现“未配置液冷”楼栋 → 应被过滤
步骤：省选“全国”→ 下拉楼栋
预期：列表仅展示“已配置液冷”的楼栋（SQL 验证 count=0）
总流量公式验证：XX 有值、YY=循环泵和，偏差 >5% 标红
前置：绑定总流量测点 100 m³/h；循环泵 1+2 实测和 110 m³/h
步骤：查询 2025-07-01 12:00
预期：总流量格子红字，hover 提示“偏差大于 5%”
温差负值异常标记：进液 15 ℃、出液 12 ℃ → 温差 -3 ℃
预期：一次侧进出液温差格子红字，hover“负值，请检查”
区域查询（省级别）（展示一次侧，不展示二次侧）
步骤：选“广东省”→ 查询
预期：列表有“工况环境+一次侧”，无“二次侧”列
单机楼查询（展示一次侧+二次侧）
步骤：选“深圳南山数据中心-生产楼 1”→ 查询
预期：列表同时出现“工况环境+一次侧+二次侧”
```



| 测试点 17 个 | 标签组合  | 预估用例 |
| ------------ | --------- | -------- |
| 8 个 B/E     | 1 正 2 反 | 3×8=24   |
| 4 个 Err     | 1 条即可  | 4        |
| 3 个 C       | 1 脚本    | 3        |
| 2 个 S       | 正/异     | 4        |
| 合计         |           | 35 条    |



## 0.2、网络拓扑

```
STEP 1  拆测试点（XMind 脑图，只写“要验证什么”）
网络拓扑绘制页
├─1 页面布局
│ ├─1.1 左侧空间树能展开到“省-地市-区县-站点-机房”5 级
│ ├─1.2 左侧下半组件库≥15 种图标（路由器、防火墙…）
│ ├─1.3 中间画布支持拖拽、网格、缩放、撤销、容器化
│ ├─1.4 右侧属性面板字段校验 + 必填项提示
├─2 业务规则
│ ├─2.1 FSU/摄像头 只能通过 IP 库自动关联，禁止手填
│ ├─2.2 上游设备跨站点时自动生成连接线且颜色高亮
│ ├─2.3 未填必填字段点“保存”给出红色气泡提示并阻断
├─3 数据权限
│ ├─3.1 用户只能看到权限内的站点/机房节点
├─4 非功能
│ ├─4.1 画布拖放 100 个节点浏览器不卡顿（FPS≥30）
│ ├─4.2 打开拓扑图 ≤3 s（Chrome 仿真 4G 网络）
网络拓扑呈现页
├─5 空间树点击后中间画布自动刷新且 ≤2 s
├─6 点击设备高亮完整上游链路，链路颜色 = #0078D4
├─7 右侧设备列表数量与画布实际一致，差异为 0
├─8 兼容性：Chrome/Edge/Firefox/IE11 图标无错位
```



| 测试点 | 标签（方法）    | 理由一句话                                   |
| ------ | --------------- | -------------------------------------------- |
| 1.1    | 等价类          | 5 个层级 → 每个层级选 1 个代表值即可         |
| 1.2    | 错误猜测        | 人工数图标数量，最容易漏                     |
| 1.3    | 边界值          | 网格开关、缩放最大/最小、撤销 0 次和 20 次   |
| 2.1    | 决策表          | 设备类型 = FSU/摄像头 ∧ 手填/关联 → 4 种组合 |
| 2.2    | 状态迁移        | 跨站点/同站点两种状态，验证连线颜色变化      |
| 2.3    | 等价类+错误猜测 | 必填 = 空、空格、正常值三类                  |
| 4.1    | 性能脚本        | JMeter WebDriver Sampler 测 FPS              |
| 4.2    | 性能脚本        | Chrome DevTools 录性能入口                   |
| 5      | 性能脚本        | 同 4.2                                       |
| 6      | 错误猜测        | 肉眼观察颜色，一眼出错                       |
| 7      | 等价类          | 0 设备、1 设备、N 设备三类                   |
| 8      | 兼容性矩阵      | 四浏览器各跑一遍 P0 用例                     |



```
STEP 3  写“1-3-5 格式”核心用例（只示范 5 条，剩下用同样套路复制）

用例标题：拖拽 FSU 图标到画布，手填 IP 应被阻断并提示
前置：FSU 不在 IP 库
步骤：①左侧选 FSU→拖拽 ②右侧 IP 输入 192.168.1.100 ③点保存
预期：红色气泡“FSU 仅支持 IP 库关联”，保存按钮仍灰化

用例标题：上游设备跨站点，自动生成橙色虚线连线
前置：站点 A 路由器 IP 1.1.1.1 已存在；站点 B 交换机 IP 2.2.2.2 新建
步骤：①在站点 B 交换机“上游设备”选 1.1.1.1 ②保存
预期：画布出现橙色虚线，鼠标悬浮提示“跨站点链路”

用例标题：画布缩放 50%→200% 来回 5 次，浏览器 FPS≥30
前置：Chrome 性能面板已开
步骤：①Ctrl+滚轮 50% ②200% ③循环 5 次
预期：FPS 从未低于 30，无节点错位

用例标题：打开省级拓扑图，首次渲染 ≤3 s（4G 限速）
前置：Chrome 仿真 4G 网络
步骤：URL 回车 → 计时结束以画布首次出现设备图标为准
预期：≤3 s

用例标题：IE11 下打开呈现页，图标无偏移
前置：Win10 + IE11
步骤：打开呈现页 → 截图
预期：与 Chrome 对比，图标水平像素差 ≤2 px
```



# 1、口诀【先看1】

```
先写“正常路径”——保证业务能赚钱；
再写“边界+异常”——保证不亏钱；
最后写“中断/并发”——保证口碑不翻车。
```

| 场景（用户故事级） | 规则（隐形需求） | 数据（输入+预期） |
| ------------------ | ---------------- | ----------------- |
| 正常场景           | 必须成功         | 典型值            |
| 边界场景           | 刚达到上限/下限  | 边界值            |
| 异常场景           | 必须失败且给提示 | 非法值            |
| 中断场景           | 中途断网/取消    | 状态回滚          |
| 并发场景           | 多人同时操作     | 锁/幂等           |

业务目标：指纹验证代替密码，减少客诉降低风控成本

| 场景 | 规则             | 数据（输入→预期）                   |
| ---- | ---------------- | ----------------------------------- |
| 正常 | 指纹一次通过     | 右手拇指→成功，余额-100，产生流水号 |
| 边界 | 指纹重试 3 次    | 第 3 次才通过→仍成功，第 4 次阻断   |
| 异常 | 指纹不匹配       | 任意其他手指→累计 3 次后锁定 30 min |
| 中断 | 指纹验证中杀 App | 再进 App 余额未扣款，可重新发起     |
| 并发 | 同一秒 2 笔指纹  | 仅 1 笔成功，另 1 笔提示“处理中”    |

边界值、等价类、状态迁移、并发锁全被“规则”这一栏一次性带出来了；

不再需要“先写场景再补边界”，而是场景里天然包含边界；

《广西移动网络拓扑》  -- 场景：FSU 设备只能通过 IP 库关联

| 场景 | 规则                     | 数据                               |
| ---- | ------------------------ | ---------------------------------- |
| 正常 | IP 库存在该 FSU          | 选 IP 库→自动填充→保存成功         |
| 边界 | IP 库刚好为空            | 库空→保存按钮灰化                  |
| 异常 | 手动输入 IP              | 手填任意 IP→红色提示“仅支持 IP 库” |
| 中断 | 选库过程中断网           | 网络恢复后仍保持已选项，不丢数据   |
| 并发 | 两个管理员同时选同一 FSU | 后保存者提示“已被关联”             |





# 3、模板【再看2】

```
从需求→测试点→用例→脚本/手工

    拆需求 → 测试点清单（TCM 思维）
        工具：需求文档、XMind、用户故事地图
        输出：一张“测试点脑图”，只写“要验证什么”，暂时不写步骤。
        例：注册页面
        ├─ 正常：手机 11 位、验证码 6 位、密码 8-20 位
        ├─ 异常：手机 10/12 位、验证码 5/7 位、密码 7/21 位
        ├─ 业务：同一手机 60 s 内重复发送、验证码 5 min 过期
        ├─ 非功能：并发 100 TPS、前端渲染 <200 ms
    给测试点打标签 → 匹配测试方法
        标签规则（背下来即可）：
        A. 有边界 → 边界值（BVA）
        B. 有布尔/枚举 → 等价类（ECP）+ 正交（L9）
        C. 有流程 → 状态迁移（State Transition）
        D. 有顺序/时序 → 决策表（Decision Table）
        E. 有组合爆炸 → 配对（Pairwise）
        F. 有异常路径 → 错误猜测（Error Guess）+ 探索式（ET）
        G. 非功能 → 性能脚本、安全扫描、兼容性矩阵
    	把标签写到测试点后面，瞬间知道该用什么方法。
    写用例骨架 → “1-3-5 格式”
        1 个用例标题（动词+条件+预期）
        3 段核心：前置、步骤、预期
        5 行内写完，拒绝“小作文”
        例：
            标题：输入 12 位手机号，点击获取验证码，应提示“手机号格式错误”
            前置：网络正常、未获取过验证码
            步骤：①输入 138123456789 ②点击获取验证码
            预期：页面红字提示“手机号格式错误”，请求未下发
    评审 + 补场景 → 缺陷预防
    	把脑图和用例一起丢给 Dev & PM 5 min 快速评审，90% 需求缺陷当场暴露。
```



```
三、用例颗粒度“三问法”
    写完问自己：
    如果这条用例失败，开发定位能一眼知道哪行代码错吗？
    如果这条通过，能等价类代表 80% 相似场景吗？
    如果需求变更，我能在 5 min 内改完这条用例吗？
    三问都“是”，颗粒度刚好；有一个“否”，再拆 or 再合并。

```



```
四、把用例变成“可执行资产”的最短路径
    手工探索式：用 XMind + 标签直接当“测试章程”，1 h 内跑完。
    自动化：
    – Web：把“1-3-5 格式”用例直接翻译成 Cypress 的 it()，标题即用例标题，断言即预期。
    – API：把边界值、等价类写成 JUnit5 参数化 @CsvSource，一条数据一行。
    性能：把“并发抢券”用例直接另存为 JMeter .jmx，线程组名=用例标题。
    这样做的好处：需求变更时，只需改 XMind 测试点 → 自动化参数文件同步刷新，维护成本接近 0。
```



# 4、业务与场景理解【先看4】

```
业务 = “公司要赚钱/省成本”的一整段价值链（下单、发货、结算、售后）。
场景 = 为了让业务跑通，用户或系统在某一时刻、某一环境下的一次“完整路径”。

一句话：业务是“地图”，场景是“地图里的一条路线”。


n个必填字段，只在“用例 1”里一次性全部成功；其余用例按规则只动 1~2 个字段，其他字段默认正确即可。
所有“格式/必填/业务”规则 100% 覆盖，但用例数只有 7 条，不写废话
```



# 5、分类写法

## 5.1、表单

```
字段只出现 3 类场景：
	①必填未填；②格式错误；③正常写入。
	一条用例可以“带”多个字段，只要它们属于同一规则。
	
场景优先：
	先跑通“成功保存”，再补“阻断/提示”，再补“特殊业务规则”。
```

| 用例标题（动词+条件+预期）                                 | 覆盖字段                                                     | 前置                                           | 关键步骤                     | 预期                                                 |
| ---------------------------------------------------------- | ------------------------------------------------------------ | ---------------------------------------------- | ---------------------------- | ---------------------------------------------------- |
| 1. 所有必填项正确填写，保存成功                            | 设备名称\*、IP\*、MAC\*、型号\*、上游设备\*、上游 IP\*、所属专业\*、厂家\* | 用户有权限                                     | ①把 8 个必填一次填完 ②点保存 | toast“保存成功”，数据库 insert 1 条，画布显示名称+IP |
| 2. 设备名称留空，保存被阻断                                | 设备名称\*                                                   | 同 1                                           | 名称留空其余正确             | 红字“设备名称不能为空”，save 按钮灰                  |
| 3. IP 格式非法，保存被阻断                                 | IP\*                                                         | 同 1                                           | IP 填 192.168.1.256          | 红字“IP 格式错误”                                    |
| 4. FSU 选手填 IP，系统拒绝                                 | IP\*（业务规则）                                             | IP 库已存在该 FSU                              | ①类型选 FSU ②手动填 IP ③保存 | 红字“FSU 仅支持 IP 库关联”                           |
| 5. 跨站点上游 IP 与连线不一致，颜色高亮提醒                | 上游 IP\*                                                    | 站点 A 路由器 1.1.1.1 已画线；当前设备在站点 B | 上游 IP 填 1.1.1.1           | 画布自动生成橙色虚线，鼠标悬浮提示“跨站点链路”       |
| 6. 服务器类型选“服务器”，上游设备/上游 IP 非必填，可空提交 | 上游设备/上游 IP                                             | 类型 = 服务器                                  | 上游两字段空，其余必填正确   | 保存成功，无高亮提示                                 |
| 7. IPv6、虚拟 IP、端口等选填项正常写入并回显               | IPv6、虚拟 IP、端口、具体位置、版本号…（全部非必填）         | 同 1                                           | 把选填全写一次               | 保存后重新打开，各字段值正确回显                     |

1. 用例 1 做成“冒烟”——每日构建必跑；
2. 用例 2~4 前端校验即可，放 UI 自动化 30 秒跑完；
3. 用例 5 涉及画布颜色 → 用 Cypress 截图像素比对；
4. 用例 7 只验回显，手工点一次即可，无需自动化。

| 字段       | 场景已覆盖   | 测试方法        | 备注                       |
| ---------- | ------------ | --------------- | -------------------------- |
| 设备名称\* | 用例 1、2    | 等价类          | 空 vs 合法                 |
| IP\*       | 用例 1、3、4 | 边界值+业务规则 | 非法格式、FSU 强制关联     |
| MAC\*      | 用例 1       | 等价类          | 只测正常，格式正则前端已挡 |
| 型号\*     | 用例 1       | 等价类          | 同 MAC                     |
| 上游设备\* | 用例 1、5、6 | 决策表          | 服务器可空、跨站点高亮     |
| 上游 IP\*  | 用例 1、5、6 | 决策表          | 同上                       |
| 所属专业\* | 用例 1       | 等价类          | 选下拉值即可               |
| 厂家\*     | 用例 1       | 等价类          | 同所属专业                 |
| 所有选填   | 用例 7       | 等价类          | 写一次保证回显             |

1. 一条用例可以“带”多个字段，只要它们同属于一条规则；
2. 场景写完，字段自然被覆盖，不用再给每个字段写一条用例；
3. 用“场景-规则-数据”三栏法，7 条用例就能盖住 17 个字段，还能给开发当验收标准。