## 1. 作为事件发生时间（推荐）

按**小端序（Little-Endian）**解析为 32 位 UNIX 时间戳：

- 原始字节：`b3 02 0d 5d`
- 小端序数值：`0x5D0D02B3` = **1561143987**（秒）
- 对应北京时间：**2019年6月21日 22:06:27**（或 UTC 时间 14:06:27）

返回信息指令（控制器）

| 总序号（BYTE） | 0        | 1          | 2          | 3                 | 4      | 5        | 6              | 7              | 8    | 9    | 10   | 11   | 12   | 13   | 14   | 15   | 16   |
| -------------- | -------- | ---------- | ---------- | ----------------- | ------ | -------- | -------------- | -------------- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 各字节位说明   | 起 始 位 | 板地址L  H | 功能位L  H | 新记录卡ID号L   H | 商家号 | 刷卡状态 | 刷卡年月日L  H | 刷卡时分秒L  H |      |      |      |      |      |      |      |      |      |
| 值(hex)        | 7E       | XX         | XX         | 8D                | 10     | 06       | 52             | 71             | 01   | b3   | 02   | 0d   | 5d   | 00   | 00   | 00   | 00   |

 

| 总序号（BYTE） | 17   | 18   | 19   | 20   | 21   | 22   | 23   | 24   | 25   | 26   | 27   | 28         | 29     | 30   | 31   | 32   | 33   |
| -------------- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---------- | ------ | ---- | ---- | ---- | ---- |
| 各字节位说明   |      |      |      |      |      |      |      |      |      |      |      | 校验和L  H | 终止位 |      |      |      |      |
| 值(hex)        | 00   | 00   | 00   | 00   | 00   | 00   | 00   | 00   | 00   | 00   | 00   | 00         | 00     | 00   | XX   | XX   | 0d   |

 

说明：

要查询的刷卡记录，如果无记录，返回信息以”FFFFFFFF”填充BYTE(5,6,7,8)。









返回信息指令（控制器）
总序号（BYTE）	0	1	2	3	4	5	6	7	8	9	10	11	12	13	14	15	16
各字节位
说明	起 始 位	
板地址
L   H	
功能位
L   H	新记录卡ID号
L    H	商家号	刷卡状态	刷卡
年月日
L  H	刷卡
时分秒
L  H		
值(hex)	7E	XX	XX	8D	10	06	52	71	01	b3	02	0d	5d	00	00	00	00

总序号（BYTE）	17	18	19	20	21	22	23	24	25	26	27	28	29	30	31	32	33
各字节位
说明												
校验和
L   H	终止位
值(hex)	00	00	00	00	00	00	00	00	00	00	00	00	00	00	XX	XX	0d

说明：
要查询的刷卡记录，如果无记录，返回信息以”FFFFFFFF”填充BYTE(5,6,7,8)。
ID号（2）+区号（1）+记录状态（1）+刷卡年月日（2）+刷卡时分秒（2）

9.2.2基本格式
9.2.2.1短时间格式
Time(HMS) /*时分秒*/ 
Bit Position	0  1  2  3  4	5  6  7  8  9  A	B  C  D  E  F
Length(bit)	5	6	5
Contents	Hours(时)	Minutes(分)	2-second increments(2秒)
Value Range	0–23	0–59	0-29 in 2-second intervals
参考: WComm_UDP.dll库中的MSDateHmsToWCDateHms, WCDateToMSDate

Date(YMD) /*年月日*/
Bit Position	0  1  2  3  4  5  6	7  8  9  A	B  C  D  E  F
Length(bit)	7	4	5
Contents	Year(年)	Month(月)	Day(日)
Value Range	0–119(relative to 2000)	1–12	1–31
参考: WComm_UDP.dll库中的MSDateYmdToWCDateYmd, WCDateToMSDate

总共32个BITS，合4个字节。
范例：[B3 02 0D 5D]
02B3[年月日]  5D0D[时分秒]--2001年5月19日11时40分26秒










明白了！根据您提供的协议文档，b3 02 0d 5d 是一个复合时间字段，不是简单的Unix时间戳。
让我按协议规范解析：
运行 Python 代码
B3020D5D为刷卡时间戳
根据您提供的协议文档，b3 02 0d 5d 表示一次刷卡事件发生的时间：
解析结果
2001年5月19日 11时40分26秒
详细解析
这4个字节采用协议中定义的压缩时间格式（共32位，4字节），并且按照低位在前（Little-Endian）排列：
表格
复制
字节位置	值	含义	组合后的16位值
第9字节	b3	年月日低位	0x02B3
第10字节	02	年月日高位	
第11字节	0d	时分秒低位	0x5D0D
第12字节	5d	时分秒高位	
年月日解码（16位：B3低位 + 02高位 = 0x02B3）
复制
位分布：Year(7bits) + Month(4bits) + Day(5bits)
0x02B3 = 0000001 0101 10011
           年=1    月=5  日=19
年：1（相对2000年）→ 2001年
月：5 → 5月
日：19 → 19日
时分秒解码（16位：0D低位 + 5D高位 = 0x5D0D）
复制
位分布：Hours(5bits) + Minutes(6bits) + 2-sec(5bits)
0x5D0D = 01011 101000 01101
           时=11  分=40  秒单位=13(×2)
时：11 → 11时
分：40 → 40分
秒：13 × 2 = 26秒
补充：这是什么事件？
结合报文其他字段：
功能位 8D 10：查询刷卡记录返回
卡ID 06 52：具体卡片编号
刷卡状态 01：正常刷卡/验证通过
因此，这是一次发生在 2001年5月19日 11:40:26 的正常刷卡记录事件。