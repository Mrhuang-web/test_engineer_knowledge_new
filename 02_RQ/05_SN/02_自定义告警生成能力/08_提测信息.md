# 01提测

```
1、涉及人员：
	曾宪基


2、本次提测内容为：
	提测内容：人为告警生成需求
	
	简单描述，这段是对于需求变更的追加描述，文档里没有：
		相关告警触发后，默认采集24小时，
		如果人为告警触发了，更新对应信道的采集周期为人为告警触发时间 + 24小时
		告警消除（不影响采集周期）
		人为告警消除（不影响采集周期）
	
	逻辑：
		触发后，每一分钟取一次实时值，根据取到的实时值、当前设备站点类型跟门限值配置做对比，超过门限值并且无告警的，生成告警，未超过门限值且有告警的，生成消警。
		查看日志可以看：1（采集）. 告警任务检查 2（超时结束）. 任务已到达 deadline等字眼
		相关告警还会推送omc故障中心平台，相关omc已启动，可用网管模拟器尝试连接

	涉及表格
		alert_generate_conf
			- start_alert_mete_code，触发器告警，在这个范围内的能生成采集任务
			- collect_mete_code，采集的测点编码
			- collect_length 采集的周长，采集任务时长默认是这个值，单位为毫秒
			- collect_delay 任务采集周期，默认毫秒
  
		alert_generate_threshold
			门限值配置和告警等级表
		  
		alert_generate_collect_task
			采集任务表
  

 




3、新增脚本：
	脚本：
		1. https://gitsz1.aspirecn.com/spider/kernelshanxi/-/blob/develop_0820/master-shanxi/bin/dbscript/SNEMS1.0.7.0/ddl/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%91%8A%E8%AD%A6%E7%94%9F%E6%88%90_ddl_20250822.sql?ref_type=heads
		2. https://gitsz1.aspirecn.com/spider/kernelshanxi/-/blob/develop_0820/master-shanxi/bin/dbscript/SNEMS1.0.7.0/dml/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%91%8A%E8%AD%A6%E7%94%9F%E6%88%90_dml_20250822.sql?ref_type=heads



4、新增配置：无



5、涉及模块【微服务 -- 即页面功能对应的服务--后端才有说明服务名】
	分支：develop_0820
	涉及服务：alert
		查看日志可以看：
			1（采集）. 告警任务检查 
			2（超时结束）. 任务已到达 deadline等字眼


6、fpa导入：是



7、代码分支：【前端（dev-decrypt），后端（develop）】
```

