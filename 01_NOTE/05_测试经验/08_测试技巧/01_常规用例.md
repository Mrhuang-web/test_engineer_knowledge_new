# 00_用例类别

## 冒烟

```
p1
开发提测 -> 冒烟测试（通过则继续，不通过则打回）

冒烟测试用例的核心原则是：覆盖最核心的主干流程，忽略细节和异常
	核心功能路径：
		选择那些能让整个系统“跑起来”的最基本、最必须成功的流程
	新任版本构建后的必测点：
		每次开发提交一个新版本，都需要验证的基础功能
	选择标准总结：
		如果这个功能失败了，这个版本就完全不可用。这样的功能点就是冒烟测试的候选
	冒烟测试用例的特点是简单、直接、步骤少
		用例级别：全部为最高优先级（P0）
		设计方法：主要使用正向用例，即“正确的操作和输入，期望得到正确的输出”
```

## 集成

```
卓望公司【重点】：
	集成用例的话给到开发验证，自己也需要验证，但是在研发云里面不用去动


p1
冒烟通过 -> 进行集成测试（验证各个模块连接是否可靠）

在单元测试之后，验证多个模块、组件、服务或系统之间交互时，接口和数据流是否正确
	注的是“连接点”和“交互”，而不是单个模块的内部细节
	选择集成测试用例的核心原则是：覆盖关键的接口和模块间的交互场景
	选择标准总结：
		关注“之间”
		凡是涉及到两个或以上模块/系统/服务交互的地方，就是集成测试的候选
	
        模块/服务接口【就是接口调用，控制参数检查返回数据是否满足条件】：
            所有对外暴露的API接口、函数调用等都是测试重点
        数据流：
            数据从一个模块传递到另一个模块时，格式、类型、值是否正确。
            例如：前端提交的表单数据，后端接口是否正确接收并处理
        控制流：
            一个模块的行为是否会正确触发另一个模块的预期行为。
            例如：在商城后台取消一个订单，是否会正确触发通知模块给用户发送取消短信
        跨模块的异常和错误处理：
            当一个模块抛出错误时，与之交互的模块能否正确响应。
            例如：支付服务调用银行接口失败时，订单服务是否会将订单状态正确地更新为“支付失败”。
        与第三方服务的集成：
            验证与外部系统（如支付网关、短信服务、地图服务）的集成是否正常
    编写标准
    	注意：主要就是数据流形式
    	需要更详细地设计接口的输入和预期输出
    	设计方法：
    		综合运用等价类、边界值、错误推测等方法，不仅测试正常数据，也要测试异常和错误数据在接口间的传递和处理
    		
    		
举例说明：
	以上海冷通道分析
		冒烟测试则是【可以先不管准确性，但一定要能用】：
			1、能够正常进入到页面，无报错空白等情况
			2、页面有内容
			3、配置机柜能显示
			4、有配置机柜的冷痛感到数据能展示上来
```

## 主流程

```
p3
集成测试通过 -> 进行更全面的测试，包括主流程测试、详细功能测试、异常测试、兼容性测试等

验证一个完整的、端到端的用户业务场景是否能成功执行
	它是用户最可能使用的“快乐路径”（Happy Path），是保证业务能否正常运转的关键
	选择主流程测试用例的核心原则是：
		覆盖最重要的、使用频率最高的端到端业务场景
		核心业务价值：
			这个流程直接为公司和用户创造了核心价值
		高频使用场景：
			大多数用户每天都会使用的功能
		端到端（E2E）：
			流程从用户界面开始，经过后端各种服务处理，最后再返回给用户一个完整的结果。
	编写方式：
		主流程测试用例是详细的、端到端的正向测试用例
		场景法：
			模拟真实用户的行为和数据
		书写格式：
			步骤会比冒烟测试更详细，会包含一些必要的UI操作和状态验证，类似于一个详细的用户手册
			
			
理解分类
	第一类：
		构成甲方业务核心骨架的需求 -> 真正的“主流程”
		说明：
			高频使用：甲方的员工或客户每天都会多次使用。
			端到端：完成一个独立的、有价值的业务目标。
			无法绕过：如果这个流程失败，甲方的日常业务就会停滞。
	第二类：
		优化或增强现有主流程的需求 -> 主流程的“增强点”【在原有主流程上增加新的功能点或规则，使业务更丰富、更高效】
		举例说明：
			在用电关系上，再添加了测点，配置点这类
	第三类：
		后台管理、配置、报表类需求 -> “支撑功能”
		举例说明：
			目前冷通道分析，就属于是支撑功能


以项目为例——重点
	动环项目【与传统的项目不同，动环项目主要的是告警闭环】
		核心内容： “事件响应”和 “状态监控”
			因此主流程为：
				确保被监控机房/站点的稳定运行，并在出现异常时能快速、准确地告警并驱动处理
				告警闭环流程，是动环系统的“心跳”，如果这个流程断了，系统就失去了存在的意义
			主流程分类：
				1、主流程1：从“产生异常”到“告警呈现”的自动化流程（无人工干预）
					这个流程测试的是系统的感知和通知能力：能不能发现故障？能不能正确上报？
						测试用例标题：验证温湿度传感器超阈值后，系统能自动产生并正确显示告警
						模拟业务场景：机房空调漏水，导致湿度上升并超过安全阈值
						测试步骤
							前置条件：
                                系统中有配置好的温湿度传感器监控点
                                为该监控点设置了合理的告警阈值（如：湿度上限80%）
                                告警通知规则已配置
                            触发异常：
                            	通过模拟器（或测试工具）修改该传感器数据，使其上报的湿度值超过阈值（如：85%）
                            系统自动行为：
                            	数据采集服务接收到异常数据
                            	告警判断服务判定为告警状态，生成一条告警记录
                            	告警记录写入数据库
                        验证结果（预期结果）“
                        	实时告警列表：在系统的“实时告警”页面中
                        	在1分钟内（根据性能要求）出现一条新的告警，告警信息正确（告警源、告警级别、告警内容、发生时间）
                        	告警提示：系统桌面客户端有弹窗提示，或网页右上角有未读告警计数提示
                        	通知发出：检查日志或模拟邮箱，确认已按照规则发出邮件或短信通知（如果该用例包含通知）
                        	历史告警：稍后检查“历史告警”页面，该条记录也应存在
				2、主流程2：从“告警产生”到“告警消除”的人工处理流程
					这个流程测试的是系统的运维协作能力：人员能否接手处理并解决问题？
                        测试用例标题：验证运维人员能够接收告警、完成处理并确认告警消除
                        模拟业务场景：运维人员收到告警后，前往现场处理了漏水问题，湿度恢复正常。
                        测试步骤：
                        	前置条件：主流程一已完成，系统中存在一条“湿度超标”的活动告警。
                3、他重要流程（可视为二级主流程或核心功能模块）
                	监控可视化流程
                		验证用户能正常查看监控数据
                	人员权限管理流程（您提到的）
                		目标：验证不同角色的人员有正确的权限
                		这通常是一个支撑性功能，它很重要，但它服务于“告警处理”等主流程
                		它的测试重点是功能本身和集成，而非端到端用户旅程
               	4、总结
               		最高优先级的主流程：一定是 “告警闭环流程” 。这是系统的生命线
               		如何选择：
                        每次版本更新，必须优先测试与告警产生、判断、通知、处理相关的功能
                        如果本次开发改动了数据采集模块，那就要重点测试主流程一
                        如果改动了告警处理或人员权限模块，就要重点测试主流程二
                    最终判断标准【最重点的】：
                    	想象一下，如果这个功能完全失效，会不会导致机房故障无法被发现或处理？
                    	如果会，它就是主流程的一部分；如果不会，它就是一个重要的支撑功能
```



# 01_常规用例设计

## 导入导出

```
导入
	正向：
		全部条件覆盖【取前、中、后各两条，且不同类型正向组合】，能正确导入
	逆向：
		针对每个条件进行单独设置
			不同类型都会进行以下操作
				重复类型【命名重复、重复引用、必填重复】
				边界值【每个设计边界的】
				为空【每个单独为空时的情况】
				错误数据【测点不存在的情况】
				无权限【用户没有该站点的权限】
				超大文件
				格式错误
		针对正负向组合设置 - 随机2~3异常条件组合
			正向+逆向【1条或多条、情况：不存在的、重复的、缺失的 -- 验证对这种存在错误的处理效果】
		针对权限设置
			正向+逆向【无该区域权限、有该区域权限 -- 验证是否有权限校验】
			导入过程中撤销权限
		针对文件格式
			多种格式校验【.xlsx,.word,.jpg,.py,.java,.sql,.c等等】
		针对文件命名
			正向数据【文件名错误】
			正向数据+逆向数据【文件名错误、重复文件名】
		针对文件大小
			正向数据
			正向数据+逆向数据
		针对文件元数据
			正向数据【文件属性只读/隐藏】
			正向数据+逆向数据【文件属性只读/隐藏】
		针对网络问题
			正向数据【导入中途断网，是否数据库回退还是会创建部分】
			正向数据+逆向数据【导入中途断网，是否数据库回退还是会创建部分】
		针对安全方面
			
			


导出
	正向：
		文件可下载、文件可打开、文件有数据、文件字段数据没问题、对应条件范围正确
	逆向：
		字段存在出入【与界面和需求中不一致】
		数据存在缺失或计算错误【与界面和需求中不一致、公式计算错误、导出实时数据变化了】
		数据不关联【跨表之间字段不关联、或是字段不一致】
		导出文件不完整【文件头尾缺失】
		输入行数与数据，并非所选中或筛选的内容
		导出文件命名不正确
		敏感数据无脱敏
		水平权限导出了全部区域信息
		越权情况也能导出文件【主要是接口层面，修改参数】
		分页导出漏数据、没有导出完全
		界面筛选状态成功，但是导出数据是错误的【主要是前端提示有误、后端校验有问题】
		
	
```

## 表单

```

```

报表

# 02_触发器/定时任务

## 触发器

```
说明：
	这是具体的业务逻辑，用于调用一个特定的API接口，完成具体的工作
```

## 定时任务

```
说明：
	调度框架、只负责一件事：在准确的时间点，触发执行一个预先设定好的命令或脚本、本身不包含业务逻辑
	会自动执行【可能就是最近一个季度的】
```

## 定时系统

```
一个完整的定时任务系统由两部分组成：
	调度系统（定时器）：配置为在每年1/4/7/10月7日6:00执行
	
	步骤一：创建业务脚本（里面包含所有要调度的curl）
	步骤二：配置定时任务（Cron   -- crontab -e 编辑定时任务列表）
		0 6 7 1,4,7,10 * /bin/bash /app/scripts/send_quarterly_data.sh > /dev/null 2>&1
		分钟: 0
        小时: 6
        日: 7
        月: 1,4,7,10 (一月、四月、七月、十月)
        周几: * (任意)
        合起来：在1月7日、4月7日、7月7日、10月7日的早上6:00整执行
```

# 03_sftp_ftp类

```
一般涉及这类的测试
	主要就是验证
		1、生成的文件是否与需求一致
		2、数据是否一致
		3、文件的各种字段、文件名等内容是否一致
		4、统计时间是否一致、根据统计时间相关数据是否一致等等
	重点注意：
		1、这类测试一般会跟定时任务这类相关，需要到对应t_scheduled_task表里面修改对应配置【有对应连接信息，用户密码等】
		2、这类需要注意如果是ftp的话，是需要用户和密码的【但是sftp需不需要还不知道，当时测的是ftp】
		
注意：
	下次根据自己对需求的理解
	如果看到有问题，即使提出来，不要仅仅对数据【就比如集团现网验证的时候，当时发了文件过来，明知道需求是有规定记录的，那就只能用规定季度的】
```

# 04_V版本通用类

```
疑问点：
	怎么确保其他v版本也有呢，或者说怎么确保有哪些v版本呢
	又该如何判断这个v版本有影响后，是否需要提交bug呢，或者是说需要用到的时候才用呢
	【好像是测试环境的时候是用的同个服务，但是线上应该就不是】

需求文档中
	每个需求点下方都会有对应的说明
		例如
			机柜管理这一块，就有涉及到v版本通道
			面对这一类，需要把其他涉及的v版本也都验证一下，确保不会受到影响
		
```

