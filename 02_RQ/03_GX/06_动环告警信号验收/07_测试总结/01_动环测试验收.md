# 01总结

```
1、aluada账号是不能进行新增的，只能使用其他账号（好像是bpm因素影响）
2、超时环节走入动环切割环节 - 历史不会有记录 - 只是用于暂时过滤的（其他的就都有）
3、在新增角色市，需要注意部门的选择，部门选择关乎后面新增申请时，是否能查询到审批人员
```



```
棉花、李立维、树杰

涉及服务
     前端,composite-service、knowledgemanage-service
	 
```



```
涉及表：
	SELECT * FROM t_alter_network_accept_model;
	
	SELECT * FROM t_alert_network_accept_flow;
	SELECT * FROM t_alter_network_accept_model_file

    SELECT * FROM t_alert_network_accept_device;
    SELECT * FROM t_alert_network_accept_data;
	SELECT * FROM t_alert_network_accept_fsu;
	
	SELECT * FROM 4a_account_sync_log;

服务配置：
	alter.flow.ontime: 0 0/10 * * * ?		//控制超时检测机制
```



```
业务说明：
	测试模板：
		每种设备子类只能创建一个模板（如果设备子类已经创建了，那么久无法再创建改子类的模板）
		即一个设备类型，可以创建多个不相同子类的模板，或是一个设备类型直接创建所有设备子类
		模板预览和导出：
			因为渗透，做了限制（通过 -- 添加配置控制）
			SELECT * FROM t_cfg_auth_uri_config;
			INSERT INTO `t_cfg_auth_uri_config` (`id`, `type`, `uri`, `create_time`, `is_del`) VALUES (14, '1', 	'/v1/alterNetworkAccetp/downloadFile', '2025-12-11 16:44:32', 0);
			SELECT * FROM t_cfg_auth_uri_config;
			SELECT * FROM t_cfg_filter_file_auth;
		模板名称和设备类型都是可以任意编辑的
			除了设备子类，在上传了模板之后是不可以编辑的，但是×掉模板后是可以重新选择的
			模板名称修改和新增都不能重复名称
	
	测试申请：
		任何阶段
        	- 在工单首页和列表列都需要对应
        	- 从工单首页跳转进来都需要带单号过滤查询出来（进来都是查询列表页面）
        	- 工单首页（bpm）和 列表页面历史记录，显示的流程进度都要正确（特殊的预割接也需要流转到割接人这里）
        	- 只要不是超时驳回的，任何阶段都有编辑意见的功能（只是少了同意和不同意 - 即割接阶段）
        新增资源设备
        	- 新增多个资源设备时，删除后fsu也要删除对应的
        	- 工单发起前暂存后，重新进入，删除任意一条，删除数量要一致
        	- 新增多个设备，删除某个设备后，再去选择应该是可以重新选中的（除非已经选中的才不能选择） -- 这个要确认下，是否为bug
        流转流程
        	- 三人审批时（三个都超时 - 系统日志有3条记录都是超时；一个确认两个超时 - 系统日志有3条，1条确认2条超时；以此类推）
        归档
        	- 流程需要在第二次取消割接后，自动归档后，才会打上已归档（且已废除，只有在发起人设定为已废除才会显示）
```



# 02补充

```
1、申请查询的时候（没有切换）
2、流程的审批（超时退回）
3、申请人驳回验收测试情况
4、验收采取值（需要造数）
5、验收填报后申请人 - 超时未填报，当前流转状态正确，（但是两边都有了，申请人应该就不能编辑了 ）
```



```
前端有配置，内部配置
	1.1 - 1.4


	把已有的进行初始化 - 同步到编辑页面里面（这样就能同步知道都是同一份）
	后续就知道改什么（就以页面的数据为主了）

	最上级 - 左上角填包后，会自动全部填上（每种类型都是 -- 只以类型维度）
		倒着填是否会填？（无论如何，只要填了左上角第一个，就会全部覆盖）

	做组件级别 -- 要在角色权限中可以配置



信号 --定制化功能（一个流程，一个流程管理）
	流程完整性测试：
		发起 → 审批 → 预割接 → 测试填报 → 结果审批 → 结果确认 → 归档
		各节点是否能正常流转，是否存在卡单、死循环、超时未处理等异常
	数据准确性测试：
		验收设备信息是否准确从综资系统获取。
		实时数据是否能正确采集并填充到测试表中。
		测试结果判定逻辑是否准确（遥测、遥信、遥控、告警等）
	角色：
		不同角色（如省级管理员、动力班长、割接负责人等）是否能正确看到和处理对应节点。
		是否支持驳回、重新编辑、废弃等操作
	模板关联与校验测试
		设备是否能正确关联“动环告警信号测试模板”。
		模板中信号标准名、类型、单位、判定方式等是否严格校验。
	FSU截图上传校验：
		上传截图数量是否与绑定FSU数量一致，不一致是否拦截提交。


	潜在问题：
		流程节点状态混乱：如“取消预割接”与“验收通过”状态区分不清，可能导致后续流程错误。
		实时数据采集失败无提示：若采集失败，页面是否明确提示用户，避免误判为“不通过”。
		模板字段校验不严：如“达标限值”填负数、单位缺失等，是否强制拦截。
		设备重复添加未拦截：同设备重复添加是否前端+后端双重校验。
		审批链过长，易超时：多级审批，需确认是否有超时提醒、催办机制。
	🔍 思考角度：
		是否支持批量操作？如批量导入设备、批量导出测试表。
		是否支持移动端操作？现场人员是否方便使用。
		是否支持历史数据追溯？如测试记录是否能回溯、复验。
		是否考虑异常数据标记？如“协议无此信号”是否可自动标记并统计。


	第一个取消割接
		是不能一致工程胎，因为时间长，所以多设备存在一台有问题，就需要退，重新再提交

		三个人全部审批通过才能通过


		第一此割接钱，退回，只有1和3的内容

		从后面驳回，推到最前面也是只有验收申请和历史

	动环测试
		新增-资源设备
			资源id选过了，再次进来就置灰，不可选，删除后要释放

		已经再验收的设备
			再次提单，上次还没结束，需要说明



		得到1只是确保后面的那内容，拿到后，就需要取消割接（取消予割接）
			思维到途中第一部分，因为不能一致工程胎
```



# 03补充遗漏点

```
模板名称得可编辑

一个设备子类只能配置一次，不是设备类型只能配置一次
	开关电源只有一个设备子类有模板，其他的设备子类还没配置，开关电源就不可选了。
```

![c5fa0df8f74897bf75170f43e20c1397](assets/c5fa0df8f74897bf75170f43e20c1397.png)
