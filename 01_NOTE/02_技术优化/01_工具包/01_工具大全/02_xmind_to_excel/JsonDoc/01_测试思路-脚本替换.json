[{"title": "逻辑图", "topic": {"title": "自定义告警", "topics": [{"title": "温度超高事件", "topics": [{"title": "P1：正常触发告警-数据中心", "topics": [{"title": "前置条件：1、站点类型为数据中心；2、无当前017301告警"}, {"title": "操作步骤：1、模拟触发017011告警；2、模拟机房环境设备类型温度测点：36℃"}, {"title": "预期结果：1、系统产生一条017099告警；2、显示触发告警值"}]}, {"title": "P1：正常触发告警-通信基站", "topics": [{"title": "前置条件：", "topics": [{"title": "站点类型为数据中心"}, {"title": "无当前017301告警"}]}, {"title": "操作步骤：", "topics": [{"title": "模拟触发017011告警"}, {"title": "模拟机房环境设备类型温度测点：36℃"}]}, {"title": "预期结果：", "topics": [{"title": "系统产生一条017099告警"}, {"title": "显示触发告警值"}]}]}, {"title": "P1：正常触发告警-通信机楼", "topics": [{"title": "前置条件：", "topics": [{"title": "站点类型为数据中心"}, {"title": "无当前017099告警"}]}, {"title": "操作步骤：", "topics": [{"title": "模拟触发017011告警"}, {"title": "模拟机房环境设备类型温度测点：36℃"}]}, {"title": "预期结果：", "topics": [{"title": "系统产生一条017099告警"}, {"title": "显示触发告警值"}]}]}, {"title": "P1：正常触发告警-传输节点", "topics": [{"title": "前置条件：", "topics": [{"title": "站点类型为数据中心"}, {"title": "无当前017099告警"}]}, {"title": "操作步骤：", "topics": [{"title": "模拟触发017011告警"}, {"title": "模拟机房环境设备类型温度测点：36℃"}]}, {"title": "预期结果：", "topics": [{"title": "系统产生一条017099告警"}, {"title": "显示触发告警值"}]}]}, {"title": "同一时刻多值触发告警-取最高值", "topics": [{"title": "前置条件：", "topics": [{"title": "站点类型为四个类型之一（存在对应门限值）"}, {"title": "无当前017099告警"}]}, {"title": "操作步骤：", "topics": [{"title": "模拟触发017011告警"}, {"title": "模拟机1分钟内上报多个高于门限的值"}]}, {"title": "预期结果：", "topics": [{"title": "系统产生一条017099告警"}, {"title": "显示触发告警值"}]}]}, {"title": "仅满足温度条件，不触发", "topics": [{"title": "前置条件：", "topics": [{"title": "站点类型为四个类型之一（存在对应门限值）"}, {"title": "无017011告警"}]}, {"title": "操作步骤：", "topics": [{"title": "不模拟触发017011告警"}, {"title": "模拟机房环境设备类型温度测点：超过门限值"}]}, {"title": "预期结果：", "topics": [{"title": "系统不产生017099告警"}]}]}, {"title": "仅满足017011条件，不触发", "topics": [{"title": "前置条件：", "topics": [{"title": "站点类型为四个类型之一（存在对应门限值）"}, {"title": "无当前017099告警"}]}, {"title": "操作步骤：", "topics": [{"title": "模拟触发017011告警"}, {"title": "模拟机1分钟内上报多个高于门限的值"}]}, {"title": "预期结果：", "topics": [{"title": "系统产生一条017099告警"}, {"title": "显示触发告警值"}]}]}, {"title": "P1：正常消警", "topics": [{"title": "前置条件：1、站点类型为数据中心；2、当前存在017301告警；3、温度超过门限值"}, {"title": "操作步骤：1、模拟机房环境设备类型温度测点低于门限值；2、等待1分钟实时下发轮巡"}, {"title": "预期结果：1、系统中的超高温度017099告警自动消除"}]}, {"title": "同一时刻多值触发告警消除", "topics": [{"title": "前置条件：1、站点类型为数据中心；2、当前存在017301告警；3、温度超过门限值"}, {"title": "操作步骤：1、模拟机房环境设备类型温度测点低于门限值（存在多个，最大也小于门限）；2、等待1分钟实时下发轮巡"}, {"title": "预期结果：1、系统中的超高温度017099告警自动消除"}]}, {"title": "温度值等于门限", "topics": [{"title": "前置条件：1、站点类型为数据中心；2、当前无017301告警；"}, {"title": "操作步骤：1、模拟触发一个017011告警；2、模拟机房环境设备类型温度测点=门限值"}, {"title": "预期结果：1、系统中的产生超高温度017099"}]}, {"title": "温度值高于门限", "topics": [{"title": "前置条件：1、站点类型为数据中心；2、当前无017301告警；"}, {"title": "操作步骤：1、模拟触发一个017011告警；2、模拟机房环境设备类型温度测点>门限值 0.1"}, {"title": "预期结果：1、系统中的产生超高温度017099"}]}, {"title": "温度值低于门限", "topics": [{"title": "前置条件：1、站点类型为数据中心；2、当前无017301告警；"}, {"title": "操作步骤：1、模拟触发一个017011告警；2、模拟机房环境设备类型温度测点<门限值 0.1"}, {"title": "预期结果：1、系统中的不产生超高温度017099"}]}, {"title": "017011告警消除", "topics": [{"title": "前置条件：1、站点类型为数据中心；2、当前存在017301告警；3、温度超过门限值"}, {"title": "操作步骤：1、模拟触发一个017011告警消除"}, {"title": "预期结果：1、系统中的超高温度应该继续采集"}]}, {"title": "P1：告警消除后采集周期校验", "topics": [{"title": "前置条件：1、站点类型为数据中心；2、当前017011告警已消除"}, {"title": "操作步骤：1、模拟机房环境设备类型温度测点>门限值；2、等待一分钟轮巡"}, {"title": "预期结果：1、系统产生一条017099告警（告警触发时间的24小时内都会一直采集）"}]}, {"title": "P1：人为告警消除后采集周期校验", "topics": [{"title": "前置条件：1、站点类型为数据中心；2、当前017301告警已消除（温度值低于门限值）"}, {"title": "操作步骤：1、模拟机房环境设备类型温度测点>门限值；2、等待一分钟轮巡"}, {"title": "预期结果：1、系统产生一条017099告警（人为告警触发时间的24小时内都会一直采集）"}]}]}, {"title": "直流输出电压极低事件", "topics": [{"title": "P1：单条件触发\xa0- 仅铅酸电池电压低于门限", "topics": [{"title": "前置条件：1、站点类型数据中心（门限47）；2、电池组电压过低警告（铅酸007302=46.9v，锂电068301>47v），开关电源006308>47v"}, {"title": "操作步骤：1、模拟铅酸007002告警；2、模拟铅酸007302低于阈值；3、触发监控实时轮巡采集实时电压值对比"}, {"title": "预期结果：1、应生成“直流输出电压极低”告警006099；2、告警值：46.9V (取自007302)；3、挂载设备：该铅酸电池所属的开关电源设备"}]}, {"title": "P1：单条件触发\xa0- 仅锂电池电压低于门限", "topics": [{"title": "前置条件：1、站点类型通信基站（门限46）；2、模拟电池组电压过低警告（铅酸007302>46.9v，锂电068301=45.9v），开关电源006308>47v"}, {"title": "操作步骤：1、模拟锂电068008告警；2、模拟锂电068301低于阈值；3、触发监控实时轮巡采集实时电压值对比"}, {"title": "预期结果：1、应生成“直流输出电压极低”告警006099；2、告警值：46.9V (取自068301)；3、挂载设备：该锂电池所属的开关电源设备"}]}, {"title": "P1：单条件触发\xa0- 仅开关电源输出低于门限", "topics": [{"title": "前置条件：1、站点类型传输节点（门限46）；2、电池组电压过低警告（铅酸007302>47v，锂电068301>47v），开关电源006308=45.9v"}, {"title": "操作步骤：1、模拟开关006012告警；2、模拟开关电压006308低于阈值；3、触发监控实时轮巡采集实时电压值对比"}, {"title": "预期结果：1、应生成“直流输出电压极低”告警006099；2、告警值：46.9V (取自006308)；3、挂载设备：该开关电源设备自身"}]}, {"title": "多条件同时触发\xa0- 验证告警值取自最先采集的值", "topics": [{"title": "前置条件：1、四种站点类型之一（具有相关门限）；2、三类告警均已触发"}, {"title": "操作步骤：1、t0时刻模拟铅酸007302低于阈值；2、t1时刻模拟电池组电压过低警告；3、t3时刻模拟开关电压006308低于阈值(控制上报时序 T0 < T1 < T2)"}, {"title": "预期结果：1、应生成“直流输出电压极低”告警006099；2、告警值： (为首个满足条件的值)；3、挂载设备："}]}, {"title": "边界值\xa0- 电压等于门限值", "topics": [{"title": "前置条件：1、四种站点类型之一（具有相关门限）；"}, {"title": "操作步骤：1、模拟触发相关前提告警；2、模拟三类中其中一个等于门限值（其余正常）"}, {"title": "预期结果：1、不应生成“直流输出电压极低”告警。"}]}, {"title": "P1：单一触发条件恢复", "topics": [{"title": "前置条件：1、已存在一个由铅酸电池低压触发的告警"}, {"title": "操作步骤：1、将铅酸电池电压恢复至47.1V（高于门限）；2、触发系统轮巡"}, {"title": "预期结果：1、告警应自动消除。因为唯一触发条件已消失"}]}, {"title": "多条件触发，部分恢复", "topics": [{"title": "前置条件：1、已存在告警（由铅酸电池低压触发+开源的告警共同触发）"}, {"title": "操作步骤：1、将开关恢复到大于阈值；2、铅酸电池保持不变；3、触发系统轮巡"}, {"title": "预期结果：1、告警应仍然存在。因为还有一个条件（铅酸电池低）未满足消除条件"}]}, {"title": "P1：多条件触发，全部恢复", "topics": [{"title": "前置条件：1、已存在告警（由铅酸电池低压触发+开源的告警共同触发）"}, {"title": "操作步骤：1、将开关和锂电池恢复到大于阈值；2、触发系统轮巡"}, {"title": "预期结果：1、告警应消除。所有触发条件均已消失。"}]}, {"title": "告警值切换\xa0- 首要条件恢复，次要条件仍满足", "topics": [{"title": "前置条件：1、已存在告警（当前告警来自开关006308）；2、已有前置告警，电池电压也低于阈值"}, {"title": "操作步骤：1、将开关到大于阈值；2、保持电池电压任低于阈值；3、触发系统轮巡"}, {"title": "预期结果：1、告警应仍然存在，但告警值应更新为电池的电压值46.0V"}]}, {"title": "告警值持久化\xa0- 验证其他条件值被保存", "topics": [{"title": "前置条件：1、已存在告警（当前告警来自开关006308）；2、已有前置告警，电池电压也低于阈值"}, {"title": "操作步骤：1、将开关到大于阈值；2、电池电压任也大于阈值；3、触发系统轮巡"}, {"title": "预期结果：1、告警应消除。在告警存活期内，系统正确保存并处理了多个条件值"}]}, {"title": "铅酸电池告警触发时的挂载", "topics": [{"title": "前置条件：1、蓄电池综资表中设备的relate_power_device与开关综资表里的zh_label关联，且开关设备是存在的正确的"}, {"title": "操作步骤：1、模拟上铅酸电池的低压告警007002"}, {"title": "预期结果：1、生成的“直流输出电压极低”告警，必须挂载在关联综资表的开关设备下【即任务采集表下的关联设备】"}]}, {"title": "铅酸电池告警触发时的挂载-关联错误", "topics": [{"title": "前置条件：1、蓄电池综资表中设备的relate_power_device与开关综资表里的zh_label关联，但开关设备是不存在的"}, {"title": "操作步骤：1、模拟上铅酸电池的低压告警007002"}, {"title": "预期结果：1、进生成生成低压告警，但不触发实时下发采集对比"}]}, {"title": "铅酸电池告警触发时的挂载-未关联", "topics": [{"title": "前置条件：1、蓄电池综资表中设备的relate_power_device与开关综资表里的zh_label不一致，即zh_label不存在的"}, {"title": "操作步骤：1、模拟上铅酸电池的低压告警007002"}, {"title": "预期结果：1、进生成生成低压告警，但不触发实时下发采集对比"}]}, {"title": "异常处理\xa0- 电池关联的开关电源设备不存在", "topics": [{"title": "前置条件：1、电池的power_device_id或zh_label指向一个不存在的设备ID"}, {"title": "操作步骤：1、模拟上报该电池的低压告警006012"}, {"title": "预期结果：1、不会触发采集任务"}]}, {"title": "开关电源自身告警触发时的挂载", "topics": [{"title": "前置条件：1、开关电流触发电压过低告警006012"}, {"title": "操作步骤：1、模拟上报开关电源设备值低于阈值006308"}, {"title": "预期结果：1、生成的“直流输出电压极低”告警，自动挂载到开关电源，不需要配置开关电源综资表与蓄电池综资表"}]}, {"title": "数据中心/通信机楼门限(47V)验证", "topics": [{"title": "前置条件：1、站点类型配置为“数据中心”/"通信机楼""}, {"title": "操作步骤：1、模拟上报输出电压小于阈值"}, {"title": "预期结果：1、应生成告警"}]}, {"title": "传输节点/通信基站门限(46V)验证", "topics": [{"title": "前置条件：1、站点类型配置为“通信基站”/"传输节点""}, {"title": "操作步骤：1、模拟上报输出电压小于阈值"}, {"title": "预期结果：1、应生成告警"}]}, {"title": "传输节点/通信基站门限(46V)验证-不告警", "topics": [{"title": "前置条件：1、站点类型配置为“通信基站”/"传输节点""}, {"title": "操作步骤：1、模拟上报输出电大于阈值"}, {"title": "预期结果：1、不应生成告警"}]}, {"title": "综资数据变更的影响", "topics": [{"title": "前置条件：1、 已存在告警且挂载于开关设备下，由其电池触发；2、该电池的zh_label在综资中被修改为指向开关电源B"}, {"title": "操作步骤：1、在综资中修改关联关系；2、触发系统轮巡（或等待下一个轮巡周期）"}, {"title": "预期结果：1、理想情况下，告警应同步更新，挂载设备从开关设备A变更为开关设备B，但是需要删除已有，并重启服务"}]}, {"title": "P1：实时轮巡延迟测试", "topics": [{"title": "前置条件：1、配置一个满足条件的电压值"}, {"title": "操作步骤：1、上报低压告警；2、记录时间点T1；3、记录告警生成时间点T2"}, {"title": "预期结果：1、设备采集为，离该时间点最新的一个取值，证明“实时轮巡”机制有效"}]}, {"title": "已存在采集任务-修改时间配置-时间结束任务跟随结束", "topics": [{"title": "前置条件：1、 已存在告警且挂载于开关设备下，由其电池触发；2、该电池的zh_label在综资中被修改为指向开关电源B"}, {"title": "操作步骤：1、在综资中修改关联关系；2、触发系统轮巡（或等待下一个轮巡周期）"}, {"title": "预期结果：1、理想情况下，告警应同步更新，挂载设备从开关设备A变更为开关设备B，但是需要删除已有，并重启服务"}]}, {"title": "未存在采集任务-修改时间配置-时间结束任务跟随结束", "topics": [{"title": "前置条件：1、 已存在告警且挂载于开关设备下，由其电池触发；2、该电池的zh_label在综资中被修改为指向开关电源B"}, {"title": "操作步骤：1、在综资中修改关联关系；2、触发系统轮巡（或等待下一个轮巡周期）"}, {"title": "预期结果：1、理想情况下，告警应同步更新，挂载设备从开关设备A变更为开关设备B，但是需要删除已有，并重启服务"}]}]}]}, "structure": "org.xmind.ui.logic.right"}]